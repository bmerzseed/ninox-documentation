# Ninox Reprinting

The Ninox reprinting scenario is used to reprint invoices stored in the ‘invoices view’ table within Ninox, it is triggered via the ‘print invoice’ button on a record in the ‘shipment and invoices table’ where ‘shipment complete’ is true

This scenario differs from other printing scenarios as rather than accepting a url, downloading the file from the url, and then printing that file, it works by accepting an invoice code, looking up that record, and downloading the ‘invoice.pdf’ file from that record, the file is then uploaded to /sales/ninox/drop print folders/a4 in dropbox as normal.

The scenario was initially designed to download a file from a URL rather than accept a newly generated file url to ensure the invoice reprinted was exactly the same as the one generated when the shipment was complete. Since invoices have been changed & are now far more stable, this is less important now. The invoice can still be regenerated by clicking ‘regenerate pdf’ before ‘print invoice’ in Ninox.

Each module within this scenario also has an error handler, sending an email alert to ‘seedshop@seedcooperative.org.uk' should anything fail. If it does fail, it is likely to be the ‘upload a file’ to dropbox stage giving a 429 error, if this happens the best solution is to reprint the invoice again.
